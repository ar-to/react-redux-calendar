(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,n){e.exports=n(294)},119:function(e,t,n){},288:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"months",function(){return U}),n.d(r,"reminders",function(){return G});var a=n(0),o=n.n(a),i=n(42),d=n.n(i),l=(n(119),n(11)),s=n(13),c=n(22),m=n(19),u=n(23),h=n(7),p=n(21),f="TEST",y="CURRENTMONTH",E="PREVMONTH",v="NEXTMONTH",C="ADDREMINDER",b="GETREMINDERS",O="EDITREMINDER",x="DELETEREMINDER";function k(e){return{type:b,payload:e}}var M=n(106),g=n(15),I=function e(t,n,r,a,o){Object(l.a)(this,e),this.id=t,this.date=n,this.text=r,this.arrayIndex=a,this.reminderColor=o},R=n(107),w=n.n(R),D=n(63),j=(n(288),{popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).openInput=function(e){e.preventDefault(),n.setState({openedInput:!0})},n.closeInput=function(e){e.preventDefault(),n.setState({openedInput:!1})},n.openEditInput=function(e,t){e.preventDefault(),n.setState({openedEditInput:!0,reminderToEdit:t})},n.closeEditInput=function(e){e.preventDefault(),n.setState({openedEditInput:!1})},n.addReminder=function(e){var t=w()();return n.setState({reminderPlaceholder:e.target.value,reminderObject:new I(t,n.props.monthData.shortName,e.target.value,n.props.day.dayIndex,n.state.reminderColor)})},n.editReminder=function(e){n.state.dayReminders.find(function(t,r){if(t.id===n.state.reminderToEdit.id){var a=Object(g.a)(n.state.dayReminders);return a[r].text=e.target.value,a[r].reminderColor=n.state.reminderColor,n.setState({reminderObject:a})}return null})},n.updateReminder=function(e){var t=n.state.reminderToEdit,r=Object.assign({},t,{reminderColor:n.state.reminderColor});n.props.editReminder(r),n.state.dayReminders.find(function(e,t){if(e.id===n.state.reminderToEdit.id){var r=Object(g.a)(n.state.dayReminders);return r[t].text=n.state.reminderToEdit.text,r[t].reminderColor=n.state.reminderColor,n.setState({openedEditInput:!1})}return null})},n.removeReminder=function(e,t){e.preventDefault(),n.state.dayReminders.find(function(e,r){if(e.id===t.id){var a=Object(g.a)(n.state.dayReminders);return a[r]={},n.setState({dayReminders:a})}return null})},n.saveReminder=function(e){var t=n.state.reminderObject,r=Object.assign({},t,{reminderColor:n.state.reminderColor});return n.props.addReminder(r),n.setState({openedInput:!1,dayReminders:[].concat(Object(g.a)(n.state.dayReminders),[r]),reminderPlaceholder:"",reminderColor:""})},n.handleChangeComplete=function(e){n.setState({reminderColor:e.hex})},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.renderReminderInput=function(){if(n.state.openedInput)return o.a.createElement("div",null,n.state.reminderPlaceholder?o.a.createElement("p",{className:"reminder--overflow",style:{color:n.state.reminderColor}},n.state.reminderPlaceholder):null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Enter Text Below"),o.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",maxLength:30,onChange:n.addReminder,placeholder:n.state.reminderPlaceholder}),o.a.createElement("button",{onClick:n.handleClick},"Pick Color"),n.state.displayColorPicker?o.a.createElement("div",{style:j.popover},o.a.createElement("div",{style:j.cover,onClick:n.handleClose}),o.a.createElement(D.BlockPicker,{color:n.state.reminderColor,onChangeComplete:n.handleChangeComplete})):null,o.a.createElement("button",{onClick:n.saveReminder},"save"),o.a.createElement("button",{onClick:n.closeInput},"close")))},n.renderReminderEditInput=function(){if(n.state.openedEditInput)return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Edit Text Below"),o.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",maxLength:30,onChange:n.editReminder,value:n.state.reminderToEdit.text}),o.a.createElement("button",{onClick:n.handleClick},"Pick Color"),n.state.displayColorPicker?o.a.createElement("div",{style:j.popover},o.a.createElement("div",{style:j.cover,onClick:n.handleClose}),o.a.createElement(D.BlockPicker,{color:n.state.reminderColor,onChangeComplete:n.handleChangeComplete})):null,o.a.createElement("button",{onClick:n.updateReminder},"save"),o.a.createElement("button",{onClick:n.closeEditInput},"close")))},n.state={openedInput:!1,openedEditInput:!1,dayReminders:[],reminderToEdit:{},reminderObject:{},remindersPerMonth:"",reminderColor:"",reminderPlaceholder:"",displayColorPicker:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.dayReminders.map(function(t,n){return t.arrayIndex===e.props.day.dayIndex?o.a.createElement("div",{key:n},o.a.createElement("p",{className:"reminder--overflow",style:{color:t.reminderColor}},t.text),o.a.createElement("a",{href:"/",onClick:function(n){return e.openEditInput(n,t)}},"edit"),"/",o.a.createElement("a",{href:"/",onClick:function(n){return e.removeReminder(n,t)}},"remove"),o.a.createElement("br",null)):null}),o.a.createElement("a",{href:"/",onClick:this.openInput},"add"),this.renderReminderInput(),this.renderReminderEditInput())}}]),t}(o.a.Component),_=Object(p.b)(function(e){return{monthData:e.months.month_data,reminders:e.reminders.reminder,remindersForMonth:e.reminders.reminder_for_month}},function(e){return{addReminder:function(t){e({type:C,payload:t})},getReminders:function(t){e(k(t))},editReminder:function(t){e(function(e){return{type:O,payload:e}}(t))},deleteReminder:function(t,n){e({type:x,payload:n})}}})(N),T=n(109),S=n(108);function P(){var e=Object(M.a)(["\n  border: black 1px solid;\n"]);return P=function(){return e},e}var F=T.a.div(P()),Y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(e){n.props.reminders.reminder.length!==e.reminders.reminder.length&&n.setState({downloadWarning:!0})},n.showDevJSON=function(){return null},n.state={remindersForMonth:[],downloadWarning:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"container"},o.a.createElement("h1",null,"Calendar"),o.a.createElement("h2",null,"".concat(this.props.monthData.month,", ").concat(this.props.monthData.year)),o.a.createElement(S.CSVLink,{data:this.props.reminders.reminder,filename:"reminders.csv",className:"btn btn-dark",target:"_blank",onClick:function(){e.setState({downloadWarning:!1})}},"reminders.cvs"),this.state.downloadWarning?o.a.createElement("p",null,"You have not downloaded your reminders since your last change"):null,o.a.createElement("section",{className:"row"},o.a.createElement("aside",{className:"col-md-4"},o.a.createElement("br",null),o.a.createElement("button",{onClick:this.props.getPrevMonthOnClick},"prev"),o.a.createElement("button",{onClick:this.props.getNextMonthOnClick},"next"),o.a.createElement("hr",null),this.showDevJSON()),o.a.createElement("article",{className:"col-md-8"},o.a.createElement("div",{className:"row"},this.props.weekDays.map(function(e,t){return o.a.createElement(F,{key:t,style:{width:"14%"}},o.a.createElement("div",null,e))})),o.a.createElement("div",{className:"row"},this.props.monthData.startArray.map(function(e,t){return o.a.createElement(F,{key:t,style:{width:"14%"}},o.a.createElement("div",{style:{visibility:"hidden"}},e))}),this.props.monthData.daysArray.map(function(t,n){return o.a.createElement(F,{key:n,style:{width:"14%"}},o.a.createElement("div",{style:t.currentDay?{color:"red"}:null},t.dayNumber),o.a.createElement(_,{daysArray:e.props.monthData.daysArray,dayIndex:n,day:t,remindersForMonth:e.props.remindersForMonth}))})))))}}]),t}(o.a.Component),A=Object(p.b)(function(e){return{months:e.months,reminders:e.reminders,currentMonthIndex:e.months.current_month,monthData:e.months.month_data,weekDays:e.months.week_days,monthStartDay:e.months.month_data.monthStartDay,remindersForMonth:e.reminders.reminder_for_month}},function(e){return{getPrevMonth:function(t,n){e({type:E,payload:n})},getNextMonth:function(t,n){e({type:v,payload:n})},getReminders:function(t){e(k(t))}}},function(e,t,n){return Object(h.a)({},e,t,{getPrevMonthOnClick:function(n){return t.getPrevMonth(n,e.currentMonthIndex)},getNextMonthOnClick:function(n){return t.getNextMonth(n,e.currentMonthIndex)},fetchRemindersPerMonth:function(){return t.getReminders(e.currentMonthIndex)}})})(Y),B=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(A,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(66),W=n(14),X=n.n(W),H=function(){function e(t){Object(l.a)(this,e),this.moment=t,this.index=t.month(),this.momentCalendar=t.calendar(),this.momentDay=t.format("D"),this.shortName=t.format("MMM"),this.month=t.format("MMMM"),this.year=t.format("YYYY"),this.date=t.format("dddd, MMMM Do YYYY, h:mm:ss a"),this.daysInMonth=t.daysInMonth(),this.format=t.format(),this.monthStartDay=t.startOf("month").day(),this.startMonthDayIndex=t.startOf("month").dayOfYear(),this.daysArray=this.getDays(this.daysInMonth,this),this.startArray=this.getStartDays(this.monthStartDay)}return Object(s.a)(e,[{key:"getDays",value:function(e){for(var t=[],n={},r=this.startMonthDayIndex,a=X()().format("MMM"),o=1;o<=e;o++)n={dayIndex:r++,dayNumber:o,dayName:this.shortName,currentDay:Number(this.momentDay)===o&&this.shortName===a},t.push(n);return t}},{key:"getStartDays",value:function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}}]),e}(),V={test:"",current_month:J().index,month_data:J(),week_days:X.a.weekdays()};function J(e,t){var n;switch(t>=0&&(n=X()().month(t)),e){case"PREVMONTH":var r=n.subtract(1,"M");return new H(r);case"NEXTMONTH":var a=n.add(1,"M");return new H(a);default:var o=X()();return new H(o)}}function U(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return Object(h.a)({},t,{test:n.payload});case y:return Object(h.a)({},t,{month_data:J(y)});case E:return e=J(E,n.payload),Object(h.a)({},t,{current_month:e.index,month_data:e});case v:return e=J(v,n.payload),Object(h.a)({},t,{current_month:e.index,month_data:e});default:return t}}var z={reminder:[],reminders_for_month:[]};function G(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case C:return Object(h.a)({},t,{reminder:[].concat(Object(g.a)(t.reminder),[(e=n.payload,{uuid:e.id,date:e.date,text:e.text,dayIndex:e.arrayIndex,reminderColor:e.reminderColor})])});case b:var r=function(e,t){var n=[];return e.reminder.find(function(e,r){return e.date===t?n.push(e):null}),n}(t,X()().month(n.payload).format("MMM"));return Object(h.a)({},t,{reminders_for_month:r});case O:var a=function(e,t){var n={};return e.reminder.find(function(e,r){return e.uuid===t.id?n=Object.assign({},e,{index:r}):null}),n}(t,n.payload),o=Object(g.a)(t.reminder);return o[a.index].text=n.payload.text,o[a.index].date=n.payload.date,o[a.index].reminderColor=n.payload.reminderColor,Object(h.a)({},t);case x:return Object(h.a)({},t,{text:n.payload});default:return t}}var $=Object(L.a)(r),q=Object(L.b)($,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());d.a.render(o.a.createElement(p.a,{store:q},o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[114,2,1]]]);
//# sourceMappingURL=main.3daf9b4f.chunk.js.map