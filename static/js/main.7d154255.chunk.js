(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n(288)},116:function(e,t,n){},285:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"months",function(){return V}),n.d(r,"reminders",function(){return W});var a=n(0),o=n.n(a),i=n(42),d=n.n(i),c=(n(116),n(11)),l=n(13),s=n(21),m=n(18),u=n(22),h=n(7),p=n(20),f="TEST",y="CURRENTMONTH",E="PREVMONTH",v="NEXTMONTH",O="ADDREMINDER",b="GETREMINDERS",x="EDITREMINDER",C="DELETEREMINDER";function k(e){return{type:b,payload:e}}var I=n(104),M=n(16),R=function e(t,n,r,a){Object(c.a)(this,e),this.date=n,this.text=r,this.arrayIndex=a,this.id=t},w=n(105),D=n.n(w),j=n(63),g=(n(285),{popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).openInput=function(e){e.preventDefault(),n.setState({openedInput:!0})},n.closeInput=function(e){e.preventDefault(),n.setState({openedInput:!1})},n.openEditInput=function(e,t){e.preventDefault(),n.setState({openedEditInput:!0,reminderToEdit:t})},n.closeEditInput=function(e){e.preventDefault(),n.setState({openedEditInput:!1})},n.addReminder=function(e){var t=D()();return n.setState({reminderPlaceholder:e.target.value,reminderObject:new R(t,n.props.monthData.shortName,e.target.value,n.props.day.dayIndex)})},n.editReminder=function(e){n.state.dayReminders.find(function(t,r){if(t.id===n.state.reminderToEdit.id){var a=Object(M.a)(n.state.dayReminders);return a[r].text=e.target.value,n.setState({reminderObject:a})}return null})},n.updateReminder=function(e){return n.props.editReminder(n.state.reminderToEdit),n.setState({openedEditInput:!1})},n.removeReminder=function(e,t){e.preventDefault(),n.state.dayReminders.find(function(e,r){if(e.id===t.id){var a=Object(M.a)(n.state.dayReminders);return a[r]={},n.setState({dayReminders:a})}return null})},n.saveReminder=function(e){var t=n.state.reminderObject;return n.props.addReminder(t),n.setState({openedInput:!1,dayReminders:[].concat(Object(M.a)(n.state.dayReminders),[t]),reminderPlaceholder:""})},n.handleChangeComplete=function(e){n.setState({reminderColor:e.hex})},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.renderReminderInput=function(){if(n.state.openedInput)return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Enter Text Below"),o.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",maxLength:30,onChange:n.addReminder,placeholder:n.state.reminderPlaceholder}),o.a.createElement("button",{onClick:n.handleClick},"Pick Color"),n.state.displayColorPicker?o.a.createElement("div",{style:g.popover},o.a.createElement("div",{style:g.cover,onClick:n.handleClose}),o.a.createElement(j.BlockPicker,{color:n.state.reminderColor,onChangeComplete:n.handleChangeComplete})):null,o.a.createElement("button",{onClick:n.saveReminder},"save"),o.a.createElement("button",{onClick:n.closeInput},"close")))},n.renderReminderEditInput=function(){if(n.state.openedEditInput)return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Edit Text Below"),o.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",maxLength:30,onChange:n.editReminder,value:n.state.reminderToEdit.text}),o.a.createElement("button",{onClick:n.handleClick},"Pick Color"),n.state.displayColorPicker?o.a.createElement("div",{style:g.popover},o.a.createElement("div",{style:g.cover,onClick:n.handleClose}),o.a.createElement(j.BlockPicker,{color:n.state.reminderColor,onChangeComplete:n.handleChangeComplete})):null,o.a.createElement("button",{onClick:n.updateReminder},"save"),o.a.createElement("button",{onClick:n.closeEditInput},"close")))},n.state={openedInput:!1,openedEditInput:!1,dayReminders:[],reminderToEdit:{},reminderObject:{},remindersPerMonth:"",reminderColor:"",reminderPlaceholder:"",displayColorPicker:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.reminderPlaceholder?o.a.createElement("p",{className:"reminder--overflow",style:{color:this.state.reminderColor}},this.state.reminderPlaceholder):null,this.state.dayReminders.map(function(t,n){return t.arrayIndex===e.props.day.dayIndex?o.a.createElement("div",{key:n},o.a.createElement("p",{className:"reminder--overflow",style:{color:e.state.reminderColor}},t.text),o.a.createElement("a",{href:"/",onClick:function(n){return e.openEditInput(n,t)}},"edit"),"/",o.a.createElement("a",{href:"/",onClick:function(n){return e.removeReminder(n,t)}},"remove"),o.a.createElement("br",null)):null}),o.a.createElement("a",{href:"/",onClick:this.openInput},"add"),this.renderReminderInput(),this.renderReminderEditInput())}}]),t}(o.a.Component),_=Object(p.b)(function(e){return{monthData:e.months.month_data,reminders:e.reminders.reminder,remindersForMonth:e.reminders.reminder_for_month}},function(e){return{addReminder:function(t){e({type:O,payload:t})},getReminders:function(t){e(k(t))},editReminder:function(t){e(function(e){return{type:x,payload:e}}(t))},deleteReminder:function(t,n){e({type:C,payload:n})}}})(N);function S(){var e=Object(I.a)(["\n  border: black 1px solid;\n"]);return S=function(){return e},e}var T=n(106).a.div(S()),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(){n.props.fetchRemindersPerMonth()},n.state={remindersForMonth:[]},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"container"},o.a.createElement("h1",null,"Calendar"),o.a.createElement("h2",null,this.props.monthData.month),o.a.createElement("section",{className:"row"},o.a.createElement("aside",{className:"col-md-4"},o.a.createElement("button",{onClick:this.props.getPrevMonthOnClick},"prev"),o.a.createElement("button",{onClick:this.props.getNextMonthOnClick},"next"),o.a.createElement("br",null),o.a.createElement("pre",{style:{textAlign:"left"}},JSON.stringify(this.props.monthData,null,2))),o.a.createElement("article",{className:"col-md-8"},o.a.createElement("div",{className:"row"},this.props.weekDays.map(function(e,t){return o.a.createElement(T,{key:t,style:{width:"14%"}},o.a.createElement("div",null,e))})),o.a.createElement("div",{className:"row"},this.props.monthData.startArray.map(function(e,t){return o.a.createElement(T,{key:t,style:{width:"14%"}},o.a.createElement("div",{style:{visibility:"hidden"}},e))}),this.props.monthData.daysArray.map(function(t,n){return o.a.createElement(T,{key:n,style:{width:"14%"}},o.a.createElement("div",null,t.dayNumber),o.a.createElement(_,{daysArray:e.props.monthData.daysArray,dayIndex:n,day:t,remindersForMonth:e.props.remindersForMonth}))})))))}}]),t}(o.a.Component),F=Object(p.b)(function(e){return{currentMonthIndex:e.months.current_month,monthData:e.months.month_data,weekDays:e.months.week_days,monthStartDay:e.months.month_data.monthStartDay,remindersForMonth:e.reminders.reminder_for_month}},function(e){return{getPrevMonth:function(t,n){e({type:E,payload:n})},getNextMonth:function(t,n){e({type:v,payload:n})},getReminders:function(t){e(k(t))}}},function(e,t,n){return Object(h.a)({},e,t,{getPrevMonthOnClick:function(n){return t.getPrevMonth(n,e.currentMonthIndex)},getNextMonthOnClick:function(n){return t.getNextMonth(n,e.currentMonthIndex)},fetchRemindersPerMonth:function(){return t.getReminders(e.currentMonthIndex)}})})(P),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(F,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(66),X=n(23),H=n.n(X),L=function(){function e(t){Object(c.a)(this,e),this.index=t.month(),this.shortName=t.format("MMM"),this.month=t.format("MMMM"),this.year=t.format("YYYY"),this.daysInMonth=t.daysInMonth(),this.format=t.format(),this.startMonth=t.startOf("month"),this.startMonthDay=t.startOf("month").date(),this.monthStartDay=t.startOf("month").day(),this.startMonthDayIndex=t.startOf("month").dayOfYear(),this.weekStart=t.startOf("month").week(),this.weekEnd=t.endOf("month").week(),this.weekDay=t.weekday(5).format("ddd"),this.monthStartDayShort=t.startOf("month").format("ddd"),this.monthEndDay=t.endOf("month").day(),this.monthEndDayShort=t.endOf("month").format("ddd"),this.daysArray=this.getDays(this.daysInMonth,this),this.startArray=this.getStartDays(this.monthStartDay)}return Object(l.a)(e,[{key:"getDays",value:function(e){for(var t=[],n={},r=this.startMonthDayIndex,a=1;a<=e;a++)n={dayIndex:r++,dayNumber:a,dayName:this.shortName},t.push(n);return t}},{key:"getStartDays",value:function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}}]),e}(),Y={test:"",current_month:U().index,month_data:U(),week_days:H.a.weekdays()};function U(e,t){var n=H()().month(t);switch(e){case"PREVMONTH":var r=n.subtract(1,"M");return new L(r);case"NEXTMONTH":var a=n.add(1,"M");return new L(a);default:var o=H()();return new L(o)}}function V(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return Object(h.a)({},t,{test:n.payload});case y:return Object(h.a)({},t,{month_data:U(y)});case E:return e=U(E,n.payload),Object(h.a)({},t,{current_month:e.index,month_data:e});case v:return e=U(v,n.payload),Object(h.a)({},t,{current_month:e.index,month_data:e});default:return t}}var J={reminder:[],reminders_for_month:[]};function W(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return Object(h.a)({},t,{reminder:[].concat(Object(M.a)(t.reminder),[(e=n.payload,{uuid:e.id,date:e.date,text:e.text,dayIndex:e.arrayIndex})])});case b:var r=function(e,t){var n=[];return e.reminder.find(function(e,r){return e.date===t?n.push(e):null}),n}(t,H()().month(n.payload).format("MMM"));return Object(h.a)({},t,{reminders_for_month:r});case x:var a=function(e,t){var n={};return e.reminder.find(function(e,r){return e.uuid===t.id?n=Object.assign({},e,{index:r}):null}),n}(t,n.payload),o=Object(M.a)(t.reminder);return o[a.index].text=n.payload.text,o[a.index].date=n.payload.date,Object(h.a)({},t);case C:return Object(h.a)({},t,{text:n.payload});default:return t}}var z=Object(B.a)(r),G=Object(B.b)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());d.a.render(o.a.createElement(p.a,{store:G},o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,2,1]]]);
//# sourceMappingURL=main.7d154255.chunk.js.map